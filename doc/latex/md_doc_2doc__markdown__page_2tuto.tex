\chapter{Tuto}
\hypertarget{md_doc_2doc__markdown__page_2tuto}{}\label{md_doc_2doc__markdown__page_2tuto}\index{Tuto@{Tuto}}
\label{md_doc_2doc__markdown__page_2tuto_autotoc_md0}%
\Hypertarget{md_doc_2doc__markdown__page_2tuto_autotoc_md0}%
 Voici une série de tuto sur la plus part des class de la librairie, il décrive le rôle de chaque class mais ne donne pas tous les détails. ~\newline
 La documentation elle pourra répondre à toutes vos questions. ~\newline
\hypertarget{md_doc_2doc__markdown__page_2tuto_autotoc_md1}{}\doxysection{\texorpdfstring{Info}{Info}}\label{md_doc_2doc__markdown__page_2tuto_autotoc_md1}
Tous les getters de la librairie sont marqués comme const.\hypertarget{md_doc_2doc__markdown__page_2tuto_autotoc_md2}{}\doxysection{\texorpdfstring{Mise en place}{Mise en place}}\label{md_doc_2doc__markdown__page_2tuto_autotoc_md2}
Premier programme hello world avec Bbop, affichage d\textquotesingle{}un rectangle blanc. ~\newline
 Initialisation de la librairie avec une fenêtre glfw. ~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{GLFWwindow\ *window;}
\DoxyCodeLine{bbopInit(1920,1080,"{}name"{},window);}

\end{DoxyCode}


Mise en place d\textquotesingle{}une \doxylink{classScene}{Scene} pour afficher notre premier rectangle. ~\newline

\begin{DoxyCode}{0}
\DoxyCodeLine{Scene\ scene;}

\end{DoxyCode}


Creation d\textquotesingle{}un rectangle. ~\newline

\begin{DoxyCode}{0}
\DoxyCodeLine{RectangleShape\ rectangle;}
\DoxyCodeLine{rectangle.setPosition(100.f,100.f);\ //changement\ de\ position\ }
\DoxyCodeLine{rectangle.setSize(500.f,500.f);\ //changement\ de\ la\ taille\ du\ rectangle}

\end{DoxyCode}


Exemple dans une boucle d\textquotesingle{}affichage avec une fenêtre glfw. ~\newline

\begin{DoxyCode}{0}
\DoxyCodeLine{int\ main()\ \{}
\DoxyCodeLine{\ \ }
\DoxyCodeLine{\ \ GLFWwindow\ *\ window;}
\DoxyCodeLine{\ \ bbopInit(1920,1080,"{}name"{},window);}
\DoxyCodeLine{\ \ }
\DoxyCodeLine{\ \ Scene\ scene;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ RectangleShape\ rectangle;}
\DoxyCodeLine{\ \ rectangle.setPosition(100.f,\ 100.f);}
\DoxyCodeLine{\ \ rectangle.setSize(500.f,500.f);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ while\ (!glfwWindowShouldClose(window))}
\DoxyCodeLine{\ \ \{}
\DoxyCodeLine{\ \ \ \ //\ Nettoyage\ de\ la\ fenêtre}
\DoxyCodeLine{\ \ \ \ bbopCleanWindow(window,\ Vector3i(0,0,0),1.0);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ //\ On\ 'active'\ la\ scene\ pour\ donner\ au\ shader\ opengl\ les\ variables\ uniforms}
\DoxyCodeLine{\ \ \ \ scene.Use();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ //\ Affichage\ du\ rectangle}
\DoxyCodeLine{\ \ \ \ scene.Draw(rectangle);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ //\ Faire\ le\ rendue\ du\ frame\ buffer\ de\ la\ fenêtre}
\DoxyCodeLine{\ \ \ \ scene.render();}
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{\ \ \ \ //\ Verfication\ d'erreur\ opengl}
\DoxyCodeLine{\ \ \ \ bbopErrorCheck();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ //\ Passage\ du\ front\ buffer\ pour\ afficher\ le\ rendue\ opengl\ sur\ la\ fenêtre\ glfw\ }
\DoxyCodeLine{\ \ \ \ glfwSwapBuffers(window);}
\DoxyCodeLine{\ \ \ \ glfwPollEvents();}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\ \ }
\DoxyCodeLine{\ \ //\ Suppression\ de\ la\ fenêtre}
\DoxyCodeLine{\ \ glfwDestroyWindow(window);}
\DoxyCodeLine{\ \ glfwTerminate();}
\DoxyCodeLine{\ \ }
\DoxyCodeLine{\ \ return\ 0;}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_doc_2doc__markdown__page_2tuto_autotoc_md3}{}\doxysection{\texorpdfstring{Forme géométrique / Shape}{Forme géométrique / Shape}}\label{md_doc_2doc__markdown__page_2tuto_autotoc_md3}
Toutes les formes géométriques hérites de la class mère \doxylink{classShape}{Shape}, elles ont donc en commun la plus part de leurs attributs mais les utilisent de différente manières. ~\newline
Ces attributs sont tous accessible avec des getters et setters. ~\newline
 Attributs communs. ~\newline

\begin{DoxyCode}{0}
\DoxyCodeLine{Vector2f\ position;\ //position}
\DoxyCodeLine{Vector2f\ size;\ //taille}
\DoxyCodeLine{Vector2f\ origin;\ //origine}
\DoxyCodeLine{float\ rotation;\ //angle\ de\ rotation\ en\ radians}
\DoxyCodeLine{float\ alpha;\ //transparence}
\DoxyCodeLine{Vector3i\ Color;\ //\ Couleur\ au\ format\ rgb}
\DoxyCodeLine{CollisionBox\ shapeCollisionBox:\ //\ boîte\ de\ collision}
\DoxyCodeLine{bool\ autoUpdateCollision;\ //\ Si\ true,\ la\ boîte\ de\ collision\ se\ met\ à\ jour\ automatiquement\ (true\ par\ défault)}

\end{DoxyCode}


Toutes les \doxylink{classShape}{Shape} hérites de \doxylink{classBbopDrawable}{Bbop\+Drawable}, qui est la class mère de tous les objets dessinables de la librairie. ~\newline
 \hypertarget{md_doc_2doc__markdown__page_2tuto_autotoc_md4}{}\doxysubsection{\texorpdfstring{Rectangle / Rectangle\+Shape}{Rectangle / RectangleShape}}\label{md_doc_2doc__markdown__page_2tuto_autotoc_md4}
Le rectangle est la forme la plus simple de la librairie et possède les attributs suivant. ~\newline
 Tous les attributs de la \doxylink{classShape}{Shape} sont utilisés de manière trivial ! ~\newline
 Exemple simple de pour créer un rectangle bleu de 100px par 100px ~\newline

\begin{DoxyCode}{0}
\DoxyCodeLine{//création\ du\ rectangle\ }
\DoxyCodeLine{RectangleShape\ rect;}
\DoxyCodeLine{rect.setSize(100.f,100.f);}
\DoxyCodeLine{rect.setColor(0,0,255);}
\DoxyCodeLine{}
\DoxyCodeLine{//affichage\ dans\ la\ boucle\ principale\ avec\ la\ scene\ }
\DoxyCodeLine{scene.Draw(rect);}

\end{DoxyCode}


!!! AVANT TOUS AFFICHAGE IL FAUT SAVOIR UTILISER LA CLASS \doxylink{classScene}{Scene} !!! ~\newline
 \hypertarget{md_doc_2doc__markdown__page_2tuto_autotoc_md5}{}\doxysubsection{\texorpdfstring{Forme Convex / Convex\+Shape}{Forme Convex / ConvexShape}}\label{md_doc_2doc__markdown__page_2tuto_autotoc_md5}
todo\hypertarget{md_doc_2doc__markdown__page_2tuto_autotoc_md6}{}\doxysubsubsection{\texorpdfstring{Cercle / Circle\+Shape}{Cercle / CircleShape}}\label{md_doc_2doc__markdown__page_2tuto_autotoc_md6}
todo\hypertarget{md_doc_2doc__markdown__page_2tuto_autotoc_md7}{}\doxysubsubsection{\texorpdfstring{Et les triangles ?}{Et les triangles ?}}\label{md_doc_2doc__markdown__page_2tuto_autotoc_md7}
todo ~\newline
 \hypertarget{md_doc_2doc__markdown__page_2tuto_autotoc_md8}{}\doxysubsection{\texorpdfstring{Sprite}{Sprite}}\label{md_doc_2doc__markdown__page_2tuto_autotoc_md8}
Le \doxylink{classSprite}{Sprite} est basiquement un rectangle avec une \doxylink{classTexture}{Texture}. ~\newline


Elle stock cette texture avec un pointeur et le setter associé. ~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{Texture\ *spriteTexture;}
\DoxyCodeLine{sprite.setTexture(Texture\ nTexture);\ //\ !!!\ l'objet\ passé\ en\ paramètre\ n'est\ pas\ un\ pointeur\ !!!}

\end{DoxyCode}


Une des grosse différence avec le \doxylink{classRectangleShape}{Rectangle\+Shape} est que le \doxylink{classSprite}{Sprite} gère {\ttfamily \doxylink{classVector3i}{Vector3i} Color} comme un filtre de couleur sur la texture. ~\newline
 Ce filtre peut-\/être activé avec getter et setter. 
\begin{DoxyCode}{0}
\DoxyCodeLine{sprite.setRGBFilterState(bool\ etat);}
\DoxyCodeLine{sprite.getRGBFilterState()\ const;}

\end{DoxyCode}
\hypertarget{md_doc_2doc__markdown__page_2tuto_autotoc_md9}{}\doxysubsubsection{\texorpdfstring{Sprite animé}{Sprite animé}}\label{md_doc_2doc__markdown__page_2tuto_autotoc_md9}
La class \doxylink{classAnimatedSprite}{Animated\+Sprite} permet de créer un sprite avec une sprite sheet. ~\newline
 Elle va animé ce \doxylink{classSprite}{Sprite} automatiquement en fonction de la durée entre chaque frame. ~\newline
 Exemple\+: ~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{AnimatedSprite\ anim("{}chemin/vers/spritesheet"{},\ Vector2i(ligne,colonne),\ tps\_entre\_chaque\_frame,\ frame\_morte);}
\DoxyCodeLine{}
\DoxyCodeLine{anim.update();\ //mise\ a\ jour\ de\ l'anim\ dans\ la\ boucle\ principale}
\DoxyCodeLine{}
\DoxyCodeLine{scene.Draw(anim);\ //affichage\ du\ sprite}

\end{DoxyCode}
\hypertarget{md_doc_2doc__markdown__page_2tuto_autotoc_md10}{}\doxysection{\texorpdfstring{Scene}{Scene}}\label{md_doc_2doc__markdown__page_2tuto_autotoc_md10}
La \doxylink{classScene}{Scene} est l\textquotesingle{}une des class principale de la librairie, elle sert à afficher les \doxylink{classBbopDrawable}{Bbop\+Drawable} et configurer le rendue de la lumière. ~\newline
 La \doxylink{classScene}{Scene} possède des attributs pour paramètrer la lumière ambiant. ~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{floar\ ambiantLightIntensity;\ //\ intensité\ de\ la\ lumière\ ambiante,\ avec\ 1.f\ la\ scene\ affiche\ les\ objets\ telle\ qu'ils\ sont.}
\DoxyCodeLine{Vector3i\ ambiantLightColor;\ //\ couleur\ de\ la\ lumière\ ambiant\ RGB}

\end{DoxyCode}


La \doxylink{classScene}{Scene} possède aussi un pointeur vers une camera pour déterminer le point de vue avec le quel afficher les \doxylink{classBbopDrawable}{Bbop\+Drawable}. ~\newline

\begin{DoxyCode}{0}
\DoxyCodeLine{Camera\ *sceneCamera;\ //\ par\ défault\ nullptr\ }

\end{DoxyCode}


On peut donc utiliser une camera personnalisé pour afficher des éléments dans notre \doxylink{classScene}{Scene}. ~\newline

\begin{DoxyCode}{0}
\DoxyCodeLine{scene.useCamera(Camera*\ \_cam);}

\end{DoxyCode}


Pour déssiner sur une \doxylink{classScene}{Scene} lors d\textquotesingle{}une frame il faut d\textquotesingle{}abord "{}l\textquotesingle{}utiliser"{} pour transmettre les infos de la \doxylink{classScene}{Scene} au GPU. ~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{scene.Use();\ }

\end{DoxyCode}


Après cela on peut dessiner des \doxylink{classBbopDrawable}{Bbop\+Drawable}. ~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{scene.Draw(const\ BbopDrawable\ b);}

\end{DoxyCode}


Voici un exemple du pipeline complet de rendue avec une \doxylink{classScene}{Scene}. ~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{scene.Use();}
\DoxyCodeLine{}
\DoxyCodeLine{scene.Draw(const\ BbopDrawable\ b);}
\DoxyCodeLine{}
\DoxyCodeLine{scene.addLight(Light\ l);\ //\ ajoute\ une\ lumière\ à\ l'environement\ de\ la\ Scene\ }
\DoxyCodeLine{}
\DoxyCodeLine{scene.render();\ //\ rend\ le\ frame\ buffer\ de\ la\ scene\ avec\ la\ lumière\ }

\end{DoxyCode}


La methode {\ttfamily render()} supprime le vecteur de lumière de la scene, il ne faut donc pas oublier d\textquotesingle{}ajouter les lumières à chaque frames. ~\newline
\hypertarget{md_doc_2doc__markdown__page_2tuto_autotoc_md11}{}\doxysection{\texorpdfstring{Camera}{Camera}}\label{md_doc_2doc__markdown__page_2tuto_autotoc_md11}
La camera permet de regarder a des endroit précis dans la \doxylink{classScene}{Scene}. ~\newline
 Elle utilise une position et une scale qui détermine là ou elle regarde et le zoom de celle ci. ~\newline
 Exemple ~\newline

\begin{DoxyCode}{0}
\DoxyCodeLine{Camera\ cam;}
\DoxyCodeLine{cam.setPosition(100.f,100.f);\ //\ centre\ de\ la\ camera\ placé\ en\ x:100\ y:100\ }
\DoxyCodeLine{cam.setScale(0.8);\ //scale\ de\ cam\ réduit\ donc\ elle\ zoom}

\end{DoxyCode}
\hypertarget{md_doc_2doc__markdown__page_2tuto_autotoc_md12}{}\doxysection{\texorpdfstring{Collision}{Collision}}\label{md_doc_2doc__markdown__page_2tuto_autotoc_md12}
Toute les shapes possède une instance de \doxylink{classCollisionBox}{Collision\+Box} qui suit automatiquement les dimensions de la shape.~\newline
!!! Attenetion, la boîte de collision est rectangulaire, elle n\textquotesingle{}est donc pas représentative des \doxylink{classShape}{Shape} autre que \doxylink{classRectangleShape}{Rectangle\+Shape} et \doxylink{classSprite}{Sprite}. ~\newline
 Il, n\textquotesingle{}y à pas encore de gestion des collision circulaire,triangulaire et convex, il faut donc l\textquotesingle{}implémenter vous même (faite un fork svppp) !!! ~\newline
 On peut annuler ce suivi avec ce setter\+: ~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{shape.setAutoUpdateCollisionBox(bool\ etat);}

\end{DoxyCode}


On peut récupérer la \doxylink{classCollisionBox}{Collision\+Box} d\textquotesingle{}une \doxylink{classShape}{Shape} pour s\textquotesingle{}en servir dans la gestion des collision\+: ~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{shape.getCollisionBox();\ //\ recup\ de\ la\ collision\ box}
\DoxyCodeLine{}
\DoxyCodeLine{//\ test\ de\ la\ collision\ en\ deux\ sprite\ }
\DoxyCodeLine{if(sprite1.getCollisionBox().check(sprite2.getCollisionBox()))}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ //do\ something}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_doc_2doc__markdown__page_2tuto_autotoc_md13}{}\doxysection{\texorpdfstring{Lumop}{Lumop}}\label{md_doc_2doc__markdown__page_2tuto_autotoc_md13}
Bbop2D intègre une gestion de la lumière (Lumop) ~\newline
 Les reflets de la lumière dans la scène sont calculer lors d\textquotesingle{}une deuxième passe de rendue sur le frame buffer de la scene avec un shader personnalié. ~\newline
 \hypertarget{md_doc_2doc__markdown__page_2tuto_autotoc_md14}{}\doxysubsection{\texorpdfstring{Light}{Light}}\label{md_doc_2doc__markdown__page_2tuto_autotoc_md14}
La class \doxylink{classLight}{Light} est un simple lumière à 360°. ~\newline
Elle possède les getters et setters pour changer tous ces attributs. ~\newline
 Exemple\+: ~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{//créer\ un\ light\ }
\DoxyCodeLine{Light\ light(Vector2f(x,y),\ intensité,\ Vector3i(R,G,B),\ atténuation\_constante,\ atténuation\_linéaire,\ atténuation\_quadratique);}
\DoxyCodeLine{}
\DoxyCodeLine{//dans\ la\ boucle\ d'affichage\ }
\DoxyCodeLine{scene.addLight(light);}

\end{DoxyCode}


La light va venir émettre de la lumière en plus de l\textquotesingle{}éclaire ambiant de la scene, cela permet un éclairage dynamique, personnalisé et plus détaillé. ~\newline
\hypertarget{md_doc_2doc__markdown__page_2tuto_autotoc_md15}{}\doxysubsection{\texorpdfstring{Light directionnel}{Light directionnel}}\label{md_doc_2doc__markdown__page_2tuto_autotoc_md15}
La light possède deux attribut pour la diriger. ~\newline



\begin{DoxyCode}{0}
\DoxyCodeLine{float\ openAngle;\ //\ angle\ d'ouverture\ de\ la\ lumière\ }
\DoxyCodeLine{float\ rotationAngle;\ //\ angle\ de\ rotation\ de\ la\ lumière\ }

\end{DoxyCode}
\hypertarget{md_doc_2doc__markdown__page_2tuto_autotoc_md16}{}\doxysubsection{\texorpdfstring{Normal Map}{Normal Map}}\label{md_doc_2doc__markdown__page_2tuto_autotoc_md16}
Lumop intégre la gestion de normal map sur les \doxylink{classSprite}{Sprite}. ~\newline
 Une normal map permet un éclairage dynamique d\textquotesingle{}une texture pour donner l\textquotesingle{}impression de relief. ~\newline
 Un \doxylink{classSprite}{Sprite} peut se voire attribué une \doxylink{classTexture}{Texture} pour représenter sa normal \doxylink{classMap}{Map}. ~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{sprite.setNormalMap(const\ Texturea\&\ normalMap);\ //\ alloue\ dynamiquement\ un\ nouvelle\ espace\ mem\ vers\ la\ texture\ opengl}

\end{DoxyCode}


La scene créé un deuxième frame buffer qui contient les normals maps à utiliser lors du rendue final de la lumière. ~\newline
 \hypertarget{md_doc_2doc__markdown__page_2tuto_autotoc_md17}{}\doxysection{\texorpdfstring{Map}{Map}}\label{md_doc_2doc__markdown__page_2tuto_autotoc_md17}
todo\hypertarget{md_doc_2doc__markdown__page_2tuto_autotoc_md18}{}\doxysection{\texorpdfstring{Math}{Math}}\label{md_doc_2doc__markdown__page_2tuto_autotoc_md18}
Bbop contient sa propre gestion des vecteurs.~\newline
 Tous les transfert e point ou de couleur se font à l\textquotesingle{}origine par le passage d\textquotesingle{}un vecteur. Toute les méthode n\textquotesingle{}intégre pas un passage a plusieur paramètre pour faire passer un vecteur.~\newline
 \hypertarget{md_doc_2doc__markdown__page_2tuto_autotoc_md19}{}\doxysection{\texorpdfstring{Texture}{Texture}}\label{md_doc_2doc__markdown__page_2tuto_autotoc_md19}
La class \doxylink{classTexture}{Texture} permet la creation et l\textquotesingle{}utilisation simplifé de texture open\+GL. ~\newline
Elle est utilisé par \doxylink{classSprite}{Sprite}. ~\newline
 Exemple\+: ~\newline

\begin{DoxyCode}{0}
\DoxyCodeLine{Texture\ texture("{}chemin/vers/la/texture"{});}
\DoxyCodeLine{}
\DoxyCodeLine{texture.Bind();\ //bind\ de\ la\ texture\ dans\ le\ shader\ opengl\ }
\DoxyCodeLine{//\ après\ avoir\ bind\ manuellement\ une\ texture,\ on\ peut\ par\ exemple\ utiliser\ un\ NoTextureSprite\ }

\end{DoxyCode}
 